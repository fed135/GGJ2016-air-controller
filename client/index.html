<!doctype html>
<html>
	<head>
		<title>Ritual</title>
		<meta content="telephone=no" name="format-detection">
		<meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui" />
		<meta name="HandheldFriendly" content="true" />

		<style type="text/css">
			* {
				margin:0px;
				padding:0px;
			}
			::-moz-selection, ::selection{
				background:transparent;
			}
			/*Lock landscape */
			@media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait) {
				body {
					-webkit-transform: rotate(-90deg);
					-moz-transform: rotate(-90deg);
					-ms-transform: rotate(-90deg);
					transform: rotate(-90deg);
					width:100%;
					height:100%;
					overflow:hidden;
					position:absolute;
					top:0;
					left:0;
				}
			}

			html, body {
				background-color: black;
				height:100%;
				width: 100%;
				display: block;
				position:absolute;
				color: white;
				font-family:Arial;
			}
			h1, h2 {
    		color: white;
    		text-shadow: 
    			 2px  2px 0 rgba(255,255,255,0.2), 
    			-2px -2px 0 rgba(255,255,255,0.2), 
    			 2px -2px 0 rgba(255,255,255,0.2),
    			-2px  2px 0 rgba(255,255,255,0.2);
			}

			h2 {
				margin-top:75px;
				text-align: center;
			}

			h1.center {
				margin:auto;
				top:0;
				bottom:0;
				left:0;
				right:0;
				position:absolute;
				width: 50%;
   			text-align: center;
    		height: 50px;
			}

			.button {
				text-align: center;				
				font-weight:bold;	
				font-size:16px;
				text-shadow:1px 1px 0px rgba(0,0,0,0.4);
				cursor: pointer;
				position:relative;
				margin: auto;
				margin-top:20px;
			}

			.big {
				width:303px;
				height:113px;
				overflow:hidden;
				background-position: 0px -113px;
				background-size: 100%;
			}

			.big:active {
				background-position: 0px 0px;
			}

			.start-btn {
				background-image: url(images/btn_start.png);
			}

			.ready-btn {
				background-image: url(images/btn_ready.png);
			}

			.return-btn {
				margin-top:80px;
				background-image: url(images/btn_return.png);
			}

			.medium {
				width:244px;
				height:89px;
				overflow:hidden;
				background-position: 0px -89px;
				margin-top:0px;
			}

			.medium:active {
				background-position: 0px 0px;
			}

			.leave-btn {
				background-image: url(images/btn_leave.png);
			}

			.unready-btn {
				width:314px;
				background-image: url(images/btn_unready.png);
			}

			.page-buttons {
				width: 100%;
				top: 90px;
				position: absolute;
				display: block;
			}

			.page, #wrapper {
				width: 100%;
				height: 100%;
				top:0px;
				left:0px;
				position: absolute;
				overflow:hidden;
			}

			/*init*/
			.page{
				display: none;
			}

			.instruction h1 {
				text-align: center;
    		top: 200px;
    		position: absolute;
    		width: 100%;
			}

			.error-messages {
				background-color: rgba(33,33,33,0.5);
				width: 100%;
				height: 35px;
				position:absolute;
				bottom:-50px;
				display: block;
				padding-top:15px;
				text-align:center;
				z-index:3;
			}

			.red {
				color:red;
			}

			#participants {
				margin:auto;
			  width: 85%;
    		height: 100px;
    		top: 75px;
    		position: relative;
    	}

    	.slot {
    		height: 100px;
    		width:25%;
    		display:block;
    		float:left;
    	}

    	.mask {
    		margin: auto;
    		height:100%;
    		width:80%;
    		display: block;
    		position:relative;
    		background-size:100%;
    		background-repeat:no-repeat;
    		background-position:center;
    	}

    	.slot.red .mask, #lobby-mask-red {
    		background-image: url(images/red.png);
    	}

    	.slot.green .mask, #lobby-mask-green {
    		background-image: url(images/green.png);
    	}

    	.slot.blue .mask, #lobby-mask-blue {
    		background-image: url(images/blue.png);
    	}

    	.slot.yellow .mask, #lobby-mask-yellow {
    		background-image: url(images/yellow.png);
    	}

    	.slot.white .mask {
    		background-image: url(images/white.png);
    	}

    	.inactive { opacity: 0.2 }

    	#hud {
    		position:absolute;
    		z-index: 2;
    		pointer-events:none;
    		height:100%;
    		width: 100%;
     	}

    	.hori {
    		background-image: url(images/hori-border.png);
    		background-repeat: repeat-x;
    		width: 100%;
    		height:37px;
    		display: block;
    	}

    	.vert {
    		background-image: url(images/vert-border.png);
    		background-repeat: repeat-y;
    		height:100%;
    		width: 44px;
    		display: block;
    	}

    	.left-bar {
    		position: absolute;
    		left: 0px;
    	}

    	.right-bar {
    		position: absolute;
    		right: 0px;
    	}

    	.top-bar {
    		position: absolute;
    		top:0px;
    	}

    	.bottom-bar {
    		position: absolute;
    		bottom:0px;
    	}

    	.corner {
    		width: 75px;
    		height: 74px;
    		display: block;
    	}

    	.tl {
    		background-image: url(images/corner_tl.png);
    		position: absolute;
    		top:-8px;
    		left:-8px;
    	}

    	.tl .jewel {
    		-ms-transform: rotate(135deg); /* IE 9 */
    		-webkit-transform: rotate(135deg); /* Chrome, Safari, Opera */
    		transform: rotate(135deg);
    	}

    	.tr {
    		background-image: url(images/corner_tr.png);
    		position: absolute;
    		top:-8px;
    		right:-8px;
    	}

    	.tr .jewel {
    		-ms-transform: rotate(225deg); /* IE 9 */
    		-webkit-transform: rotate(225deg); /* Chrome, Safari, Opera */
    		transform: rotate(225deg);
    	}

    	.bl {
    		background-image: url(images/corner_bl.png);
    		position: absolute;
    		bottom:-8px;
    		left:-8px;
    	}

    	.bl .jewel {
    		-ms-transform: rotate(45deg); /* IE 9 */
    		-webkit-transform: rotate(45deg); /* Chrome, Safari, Opera */
    		transform: rotate(45deg);
    	}

    	.br {
    		background-image: url(images/corner_br.png);
    		position: absolute;
    		bottom:-8px;
    		right:-8px;
    	}

    	.br .jewel {
    		-ms-transform: rotate(315deg); /* IE 9 */
    		-webkit-transform: rotate(315deg); /* Chrome, Safari, Opera */
    		transform: rotate(315deg);
    	}

    	.top-jewel-holder {
    		background-image: url(images/corner_mid.png);
    		width:73px;
    		height:83px;
    		position: relative;
    		margin: auto;
    		margin-top: -23px;
    	}

    	.top-jewel-holder .jewel {
    		margin-top: 29px;
    		position: absolute;
    		margin-left: 26px;
    	}

    	.jewel {
    		display: block;
    		margin-top: 25px;
    		margin-left: 27px;
    		position: relative;
    		height: 25px;
    		width:20px;
    	}

    	.lobby-mask {
    		width:105px;
    		height:114px;
    		background-size:100%;
    		background-repeat:no-repeat;
    		position:absolute;
    	}

    	#lobby-mask-red {
    		top: 65px;
    		left:75px;
    	}

    	#lobby-mask-green {
    		top: 65px;
    		right:75px;
    	}

    	#lobby-mask-yellow {
    		bottom: 20px;
    		left:75px;
    	}

    	#lobby-mask-blue {
    		bottom: 20px;
    		right:75px;
    	}

    	#hud.red .jewel {
    		background-image: url(images/red-jewel.png);
    	}

    	#hud.green .jewel {
    		background-image: url(images/green-jewel.png);
    	}

    	#hud.yellow .jewel {
    		background-image: url(images/yellow-jewel.png);
    	}

    	#hud.blue .jewel {
    		background-image: url(images/blue-jewel.png);
    	}

    	#wrapper {
    		background-color: black;
    	}

    	#game-result {
    		text-align: center;
    		top:45px;
    		width:100%;
    		position:absolute;
    	}

    	#title-logo{
    		background-image:url(images/ui_Logo.png);
    		background-size: 100%;
    		width:60%;
    		height:64px;
    		display: block;
    		margin:auto;
    		position:relative;
    		top:90px;
    		background-repeat: no-repeat;
    	}

    	#splash h1{
    		margin-top:225px;
    	}
		</style>
	</head>
	<body>
		<div id="wrapper">
			<div id="hud">
				<div class="hori top-bar"></div>
				<div class="hori bottom-bar"></div>
				<div class="vert left-bar"></div>
				<div class="vert right-bar"></div>
				<div class="top-jewel-holder">
					<div class="jewel"></div>
				</div>
				<div class="corner tl">
					<div class="jewel"></div>
				</div>
				<div class="corner tr">
					<div class="jewel"></div>
				</div>
				<div class="corner bl">
					<div class="jewel"></div>
				</div>
				<div class="corner br">
					<div class="jewel"></div>
				</div>
			</div>
			<div id="splash" class="page">
				<div id="title-logo"></div>
				<h1 class="center">Tap to join!</h1>
			</div>
			<div id="endgame" class="page">
				<h2>End of the ritual!</h2>
				<h2 id="game-result"></h2>
				<div class="page-buttons">
					<div id="return-button" class="big return-btn button"></div>
				</div>
			</div>
			<div id="lobby" class="page">
				<h2 id="lobby-status">Waiting in lobby!</h2>
				<div class="page-buttons" id="ready-leave-set">
					<div id="ready-button" class="big ready-btn button"></div>
					<div id="leave-button" class="medium leave-btn button"></div>
				</div>
				<div class="page-buttons" id="start-unready-set" style="display:none;">
					<div id="start-button" class="big start-btn button"></div>
					<div id="unready-button" class="medium unready-btn button"></div>
				</div>
				<div id="lobby-mask-red" class="lobby-mask inactive"></div>
				<div id="lobby-mask-green" class="lobby-mask inactive"></div>
				<div id="lobby-mask-blue" class="lobby-mask inactive"></div>
				<div id="lobby-mask-yellow" class="lobby-mask inactive"></div>
			</div>
			<div id="loading" class="page">
				<h1 class="center">Loading...</h1>
			</div>
			<div id="countdown" class="page">
				<h1 id="ready" class="center">Ready...</h1>
				<h1 id="go" class="center" style="display:none;">GO!</h1>
			</div>
			<div id="gamescene" class="page">
				<div id="SWIPE_LEFT-inst" class="instruction">
					<h1>Swipe left!</h1>
				</div>
				<div id="SWIPE_RIGHT-inst" class="instruction">
					<h1>Swipe right!</h1>
				</div>
				<div id="TILT-inst" class="instruction">
					<h1>Shake it!</h1>
				</div>
				<div id="TAP-inst" class="instruction">
					<h1>Tap!</h1>
				</div>
				<div id="HOLD-inst" class="instruction">
					<h1>Hold!</h1>
				</div>
				<div id="participants">
					<div class="slot inactive red" id="slot-red">
						<div class="mask"></div>
					</div>
					<div class="slot inactive green" id="slot-green">
						<div class="mask"></div>
					</div>
					<div class="slot inactive yellow" id="slot-yellow">
						<div class="mask"></div>
					</div>
					<div class="slot inactive blue" id="slot-blue">
						<div class="mask"></div>
					</div>
				</div>
			</div>
			<div class="error-messages">
				<h3 class="red" id="error-message-body">Errors go here</h3>
			</div>
		</div>
		<!-- Scripts -->
		<script src="main.js"></script>
		<script src="libs/jquery.min.js"></script>
		<script src="libs/socket.io.min.js"></script>
		<script src="libs/hammer.min.js"></script>
		<script src="libs/shake.js"></script>

		<script>
			window.ritual = new App();
			window.ritual.changePage('splash');
		</script>
	</body>
</html>